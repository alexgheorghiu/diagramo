<?php
//CONVER a base64 encoding image to PNG file
$data = $_REQUEST['data'];
$data = substr($data, strpos($data, ','));

#$data = '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6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALCAgMaEBBAgQ6BQQkM6725oAAQKxgIDEhAYQIECgU0BAOu9uawIECMQCAhITGkCAAIFOAQHpvLutCRAgEAsISExoAAECBDoFBKTz7rYmQIBALPBv03ALSGfKAe4AAAAASUVORK5CYII=';
$imgData = base64_decode($data);
$fh = fopen('data.png', 'w');
fwrite($fh, $imgData);
fclose($fh);
sleep(10);
print('ok');
?>
